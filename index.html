<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>2025-06-13 金</title>
  <style>
    .container { display: flex; align-items: flex-start; gap: 20px; }
    .video-area { flex: 0 0 auto; }
    .action-area { display: flex; flex-direction: column; gap: 8px; }
    #log-button { padding:8px 16px; font-size:1rem; }
    #last-click { font-weight:bold; }
  </style>
</head>
<body>
  <h1>2025-06-13 金</h1>
  <p>今日も一歩前へ進もう</p>

  <div class="container">
    <div class="video-area">
      <iframe
        width="360" height="640"
        src="https://www.youtube.com/embed/BUYUN3gXtd8?mute=1&loop=1&playlist=BUYUN3gXtd8"
        frameborder="0"
        allow="encrypted-media; picture-in-picture; web-share"
        allowfullscreen>
      </iframe>
    </div>
    <div class="action-area">
      <button id="log-button">時刻をスプシに送信</button>
      <div>最終送信時刻：<span id="last-click">まだ送信されていません</span></div>
    </div>
  </div>

  <script>
    const WEBHOOK_URL = 'https://script.google.com/macros/s/AKfycbyZwJD3RULWbmDX3uMC_RogVqMOOlEOhU1bjFvawx73KCFGJh3sdMU5HJU3zQad76HT/exec';  // ←置き換え

    document.getElementById('log-button').addEventListener('click', () => {
      const now  = new Date();
      const iso  = now.toISOString();
      const disp = now.toLocaleString();

      // 画面に表示
      document.getElementById('last-click').textContent = disp;

      // no-cors モードで投げる
      fetch(WEBHOOK_URL, {
        method: 'POST',
        mode:   'no-cors',
        body:   JSON.stringify({
          serial:    'daily-page',
          timestamp: iso,
          message:   '',
          chat_title: document.title,
          client:     'webpage'
        })
      });
      // 返り値は opaque（透過）なのでチェックせずfire-and-forget
    });
  </script>
</body>
</html>
